# GenAI 安全攻防实训教程 - 课程设计规范总结

## 项目背景
将英文 GenAI Security 项目改编为适合中国大专（高职）大二学生的中文实训教程。

## 学生背景
- 大二学生
- 具备 Python 基础
- 少量机器学习概念
- 目标：自主学习能力培养

---

## 一、实验设计规范（已确认）

### 1. 核心原则
- **极简依赖**：只使用 transformers, torch, numpy, matplotlib（≤4 个核心库）
- **代码精简**：每个实验总代码量 ≤ 40 行，学生填空 ≤ 5 处
- **填空标准化**：每个填空 1-2 行，必须提供【提示】和【参考答案】
- **自学友好**：详细中文注释，解释"为什么"而非"怎么做"

### 2. 填空设计标准

**标准格式**：
```python
# 【填空 X】任务描述
# 提示：具体的实现提示
# 参考答案：完整的答案代码
变量名 = ___________________
```

**难度分级**：
- ⭐ 简单：直接调用函数，1 个参数
- ⭐⭐ 中等：调用函数，2-3 个参数
- ⭐⭐⭐ 较难：简单表达式或逻辑

**禁止的填空类型**：
- ❌ 需要理解复杂算法
- ❌ 需要查阅 API 文档
- ❌ 需要数学推导
- ❌ 超过 2 行代码的填空

### 3. 实验自查清单
- [ ] 代码总量 ≤ 40 行（含注释）
- [ ] 填空数量 ≤ 5 个
- [ ] 每个填空提供【提示】和【参考答案】
- [ ] 外部依赖 ≤ 4 个库
- [ ] 运行时间 ≤ 5 分钟（天池 CPU 环境）
- [ ] 核心概念用注释解释清楚
- [ ] 观察问题明确且可回答
- [ ] 无需提交报告，现场验收即可

### 4. 注释要求
- **每行关键代码必须配中文注释**
- 注释解释"为什么这么写"，而非"这是什么"
- 复杂逻辑需要分步注释
- 函数参数的含义必须注释

### 5. 实验目标
- 主要目标：**观察现象、理解原理**
- 次要目标：填空完成代码
- 不要求：编写大段代码、产出报告

### 6. 实验平台与依赖管理

**实验平台**：腾讯 Cloud Studio（https://cloudstudio.net/）
- 提供免费 NVIDIA T4 GPU（16GB 显存）
- 支持 Jupyter Notebook 环境
- 国内访问速度快，模型下载稳定

**硬件配置**：
- GPU：NVIDIA Tesla T4（16GB 显存）
- 适合运行 ≤7B 参数的模型

**必需依赖**：
```python
transformers==4.40.0
torch==2.1.0
numpy==1.24.3
matplotlib==3.7.1
accelerate==0.27.0  # GPU 加速
```

**推荐模型列表**：
```python
MODELS = {
    # 模块一、二：对话与提示词攻击实验
    "chat": "Qwen/Qwen2-1.5B-Instruct",  # 中文优秀，有安全护栏

    # 模块三：文本对抗攻击
    "text_classification": "hfl/chinese-macbert-base",  # 最强中文BERT

    # 模块三：图像对抗攻击
    "image_classification": "torchvision.models.resnet18",

    # 模块四：训练数据提取
    "text_generation": "uer/gpt2-chinese-cluecorpussmall",  # 中文GPT-2

    # 模块四、五：简单分类任务
    "simple_classifier": "自定义 PyTorch 网络",
}
```

**模型选择理由**：
| 模型 | 用途 | 显存占用 | 选择理由 |
|------|------|---------|---------|
| Qwen2-1.5B-Instruct | 对话、注入实验 | ~4GB | 中文顶级，有安全护栏 |
| chinese-macbert-base | 文本分类 | ~1.5GB | 最强中文BERT变体 |
| resnet18 | 图像分类 | <1GB | 经典、快速、易理解 |
| gpt2-chinese | 数据提取 | ~1GB | 小模型易观察记忆效应 |

**去掉的不稳定依赖**：
- ❌ Garak（改为手动测试）
- ❌ TextAttack（改为硬编码同义词）
- ❌ NLTK WordNet（改为预设词表）
- ❌ sklearn 的复杂算法（改为简单逻辑）

---

## 二、理论部分规范（已确认）

### 1. 整体要求
- **难度控制**：所有模块控制在初级水平（⭐ 到 ⭐⭐）
- **避免晦涩公式**：用通俗语言解释，保持专业性
- **篇幅充实**：每章 4000-5000 字，确保讲解透彻、循序渐进
- **教学风格统一**：类比教学 + 案例驱动 + 渐进式讲解
- **学生视角**：站在学生学习理解的角度编写，提供详细的解释
- **内容**：要求具有规范的标题结构，每个小节标题清晰，内容逻辑清晰，有出版书籍的标准。
- **教程风格**：友好型，引导型，避免生硬的命令式口吻，在适当的位置添加学生可能遇到的困惑和疑问，并提供详细的解释。

### 2. 章节结构标准

**每章必备要素**：
1. **章节目标**（3-5 个）
2. **主要内容**（4-5 个小节，比例分配明确）
3. **教学资源**（案例、图表、视频）
4. **课后思考题**（3 个）

**内容分配比例**（仅供内部参考，不在正文中显示）：
- 概念引入：20-25%
- 原理讲解：35-40%
- 案例分析：20-25%
- 应用场景：10-15%

### 3. 教学方法

**学生视角优先**：
- 站在学生学习理解的角度编写内容
- 预测学生在每个知识点可能遇到的困惑提供详细的解释
- 主动补充必要的背景知识和前置概念
- 循序渐进，不跳跃，确保知识链条完整
- 多问"学生此时会想什么？会有什么疑问？"

**类比教学**：
- 每个复杂概念都有生动的生活化类比

**案例驱动**：
- 每章至少 1 个真实案例
- 案例包含：背景、攻击手法、影响、应对措施
- 优先选择国内外知名事件

**渐进式讲解**：
- 直觉理解 → 原理解释 → 技术细节
- 避免一开始就讲技术实现
- 用图示辅助理解
- 每引入一个新概念，先解释"为什么需要了解这个"

### 4. 术语处理
- 首次出现：中英文对照
- 示例：提示词注入（Prompt Injection）
- 建立术语对照表

### 5. 公式处理原则
- **能不用就不用**
- 必须用时：先用文字解释直觉，再给公式
- 复杂公式：拆解为多个步骤
- 提供"无公式版"解释

---

## 三、课程结构（已确认）

### 模块总览

| 模块 | 章节数 | 理论学时 | 实验学时 | 难度 |
|------|-------|---------|---------|------|
| 模块一：AI 安全基础 | 5 章 | 6 学时 | 4 学时 | ⭐ |
| 模块二：提示词攻击 | 5 章 | 8 学时 | 6 学时 | ⭐⭐ |
| 模块三：对抗样本 | 5 章 | 8 学时 | 6 学时 | ⭐⭐ |
| 模块四：隐私窃取 | 4 章 | 6 学时 | 6 学时 | ⭐⭐ |
| 模块五：数据投毒 | 5 章 | 8 学时 | 6 学时 | ⭐⭐ |
| **合计** | **24 章** | **36 学时** | **28 学时** | - |

### 实验清单

| 模块 | 实验编号 | 实验名称 | 填空数 | 代码行数 |
|------|---------|---------|-------|---------|
| 模块一 | 1.1 | 环境搭建与模型调用 | 3 | 25 |
| 模块一 | 1.2 | AI 漏洞侦察 | 3 | 30 |
| 模块二 | 2.1 | 基础提示词注入 | 4 | 30 |
| 模块二 | 2.2 | 越狱技术体验 | 3 | 25 |
| 模块二 | 2.3 | 系统提示提取 | 3 | 30 |
| 模块三 | 3.1 | FGSM 白盒攻击 | 4 | 35 |
| 模块三 | 3.2 | PGD 迭代攻击 | 3 | 30 |
| 模块三 | 3.3 | 黑盒迁移攻击 | 3 | 30 |
| 模块三 | 3.4 | 文本对抗攻击 | 3 | 30 |
| 模块四 | 4.1 | 训练数据提取 | 3 | 30 |
| 模块四 | 4.2 | 成员推理攻击 | 3 | 30 |
| 模块四 | 4.3 | 差分隐私对比 | 3 | 30 |
| 模块五 | 5.1 | 标签翻转攻击 | 3 | 25 |
| 模块五 | 5.2 | BadNets 后门 | 4 | 35 |
| 模块五 | 5.3 | 后门检测 | 3 | 30 |

---

## 四、评估体系（已确认）

### 总评成绩构成
- 实验操作：50%（现场运行代码，观察结果）
- 口头问答：30%（回答实验相关问题）
- 课堂参与：20%（出勤、讨论、提问）

### 实验评分标准（统一）

| 评分项 | 优秀 (90-100) | 良好 (75-89) | 及格 (60-74) | 不及格 (<60) |
|--------|--------------|-------------|-------------|--------------|
| 代码运行 | 完全正确 | 基本正确 | 可运行但有问题 | 无法运行 |
| 填空完成 | 全部正确 | 大部分正确 | 部分正确 | 基本未完成 |
| 结果理解 | 能准确解释 | 能大致说明 | 理解有偏差 | 无法解释 |
| 参数调优 | 主动尝试多组 | 尝试部分 | 只运行默认 | 未尝试 |

---

## 五、教学资源清单

### 教师资源包
- [ ] 每章 PPT（20-30 页，含动画）
- [ ] 实验答案详解（完整代码 + 注释）
- [ ] 教学视频脚本（15 分钟/节）
- [ ] 在线测验题库（10 选择题 + 2 简答题/章）

### 学生资源包
- [ ] 实验指导书（PDF）
- [ ] 代码模板（带 TODO 标记）
- [ ] 常见问题 FAQ
- [ ] 术语中英对照表

### 数字化平台
- [ ] 天池 Notebook 项目模板
- [ ] 在线实验验收系统
- [ ] 学习进度看板

---

## 六、关键设计理念

1. **体验式学习**：重点是观察效果，不是编写复杂代码
2. **自主学习**：详细注释让学生能独立完成
3. **降低门槛**：填空式编程，每个填空都有提示
4. **避免挫败感**：不要求大段代码，不产生报告
5. **实战导向**：理论与实验紧密衔接
6. **本土化**：中文注释、国内案例、法律法规

---

## 七、后续工作计划

### Phase 1: 更新 CLAUDE.md
- 总结所有设计规范
- 记录实验和理论的标准
- 确保后续对话的一致性

### Phase 2: 逐章编写内容
1. 选择一个模块开始（建议从模块一开始）
2. 先编写理论（一章完整的 Markdown）
3. 再编写实验（完整的 Jupyter Notebook）
4. 验证理论与实验的衔接
5. 循环直到所有章节完成

### Phase 3: 质量检查
- 检查术语一致性
- 验证代码可运行性
- 测试填空难度
- 审查注释完整性

---

## 八、注意事项

1. **保持风格一致**：所有章节和实验使用相同的结构和风格
2. **控制篇幅**：理论不要过长，实验代码要精简
3. **难度适中**：始终记住学生是大专二年级水平
4. **详细注释**：代码注释是学生自学的关键
5. **实战案例**：优先使用真实、知名的安全事件
6. **法律伦理**：每个模块强调授权测试和职业道德

---

## 九、各模块章节详细设计

### 模块一：AI 安全基础（5 章）

**第 1 章：AI 安全威胁全景图**
- 内容要点：AI 安全的独特性、威胁分类、OWASP AI Top 10、真实案例（ChatGPT 越狱、必应泄露、对抗贴纸）
- 教学重点：建立整体认知，理解 AI 安全 vs 传统安全
- 类比：传统软件漏洞 vs AI 模型漏洞
- 篇幅：2500 字

**第 2 章：大语言模型的工作原理**
- 内容要点：Transformer 简化理解、Tokenizer 原理、关键参数（Temperature/Top-p/Max Tokens）、LLM 能力与局限
- 教学重点：理解模型参数对安全的影响
- 类比：LLM = 超级自动补全系统，Temperature = 创造力
- 篇幅：3000 字

**第 3 章：红队视角：像攻击者一样思考**
- 内容要点：攻击者思维、CIA 三元组、STRIDE for AI 威胁建模、法律伦理红线、负责任披露
- 教学重点：建立攻防对抗思维，明确法律边界
- 案例：《网络安全法》相关条款、授权测试流程
- 篇幅：3000 字

**第 4 章：AI 安全测试环境搭建**
- 内容要点：天池 Notebook 操作、Python 环境配置、核心依赖库（transformers/torch/numpy/matplotlib）、常见问题
- 教学重点：实操指导，为实验做准备
- 篇幅：2500 字

**第 5 章：AI 漏洞探测初体验**
- 内容要点：AI 漏洞特点、常见漏洞类型、手动探测技巧、自动化工具简介
- 教学重点：理解漏洞检测方法
- 篇幅：2500 字

---

### 模块二：提示词攻击（5 章）

**第 1 章：提示词注入基础原理**
- 内容要点：提示词注入本质、直接注入、间接注入（RAG 投毒）、多轮对话注入
- 教学重点：理解 AI 无法区分指令和数据的根本问题
- 类比：话术陷阱
- 案例：必应 Sydney 事件
- 篇幅：3000 字

**第 2 章：越狱技术详解**
- 内容要点：越狱定义、角色扮演法（DAN 系列）、编码绕过（Base64/ROT13/Unicode）、逻辑操纵（假设场景/学术框架）
- 教学重点：掌握主流越狱技术
- 案例：ChatGPT DAN 演化史
- 篇幅：3500 字

**第 3 章：系统提示提取技术**
- 内容要点：系统提示的作用、直接请求法、间接诱导法、编码翻译绕过、防御措施
- 教学重点：理解系统提示泄露的危害
- 案例：Bing Chat 系统提示完整泄露
- 篇幅：3000 字

**第 4 章：内容过滤器绕过技术**
- 内容要点：过滤器机制（关键词/语义/分类）、字符绕过、语义绕过（三明治攻击）、结构绕过
- 教学重点：理解防护栏的局限性
- 篇幅：3000 字

**第 5 章：防御机制与对策**
- 内容要点：输入层防护、模型层防护（Spotlighting/双 LLM/Constitutional AI）、输出层防护、监控响应
- 教学重点：多层防御策略
- 篇幅：3000 字

---

### 模块三：对抗样本（5 章）

**第 1 章：对抗样本基础原理**
- 内容要点：对抗样本直觉理解、为什么有效、对抗扰动数学直觉（无公式）、真实世界危害
- 教学重点：建立对对抗样本的直观认知
- 类比：视觉魔术
- 案例：熊猫→长臂猿、自动驾驶停车标志攻击
- 篇幅：3000 字

**第 2 章：白盒攻击技术**
- 内容要点：白盒攻击定义、FGSM 算法原理（无公式版）、PGD 算法、攻击效果评估
- 教学重点：理解梯度攻击的基本思想
- 篇幅：3000 字

**第 3 章：黑盒攻击技术**
- 内容要点：黑盒攻击定义、迁移攻击（Transfer Attack）、查询攻击（HopSkipJump 简介）、实战约束
- 教学重点：理解迁移性和查询效率
- 案例：攻击商业 API
- 篇幅：3000 字

**第 4 章：文本对抗攻击**
- 内容要点：文本对抗的独特挑战、字符级攻击、词级攻击（同义词替换）、句级攻击（回译）
- 教学重点：理解文本对抗的离散性问题
- 篇幅：2800 字

**第 5 章：防御技术入门**
- 内容要点：对抗训练、输入预处理、检测方法、防御的猫鼠游戏（自适应攻击/梯度掩码）
- 教学重点：理解防御的局限性
- 篇幅：2800 字

---

### 模块四：隐私窃取（4 章）

**第 1 章：AI 的记忆泄露问题**
- 内容要点：AI 记忆机制、训练数据提取攻击、真实案例（GPT-2/ChatGPT/Copilot）、隐私危害
- 教学重点：理解模型记忆导致的隐私风险
- 类比：AI 像背过答案的学生
- 篇幅：3000 字

**第 2 章：成员推理攻击**
- 内容要点：成员推理定义、攻击原理（置信度/损失值分析）、影子模型技术、防御措施
- 教学重点：理解成员信息本身是隐私
- 案例：医疗 AI 判断患者身份
- 篇幅：3000 字

**第 3 章：模型逆向攻击**
- 内容要点：模型逆向定义、白盒逆向（梯度优化）、黑盒逆向、真实案例（人脸重建）
- 教学重点：理解重建攻击的危害
- 篇幅：2500 字

**第 4 章：差分隐私基础**
- 内容要点：差分隐私直觉理解、隐私预算（Epsilon）、DP-SGD 训练、实际应用（Google/Apple）
- 教学重点：理解隐私-准确率权衡
- 类比：添加噪声保护隐私
- 篇幅：2800 字

---

### 模块五：数据投毒（5 章）

**第 1 章：数据投毒攻击原理**
- 内容要点：数据投毒定义、标签翻转攻击、干净标签攻击、与对抗样本的区别
- 教学重点：理解投毒的持久性危害
- 类比：在食材里下毒
- 篇幅：2800 字

**第 2 章：后门攻击技术**
- 内容要点：后门攻击定义、触发器设计（图像/文本）、BadNets 算法、真实案例（停车标志/人脸识别）
- 教学重点：理解后门的隐蔽性和可控性
- 类比：特洛伊木马
- 篇幅：3000 字

**第 3 章：供应链攻击向量**
- 内容要点：AI 供应链概览、模型仓库投毒、数据集投毒、序列化攻击（Pickle 漏洞/SafeTensors）
- 教学重点：理解供应链的放大效应
- 案例：PyTorch torchtriton 事件
- 篇幅：3000 字

**第 4 章：后门检测技术**
- 内容要点：激活聚类、Neural Cleanse、STRIP 运行时检测、检测技术对比
- 教学重点：理解检测方法的原理和局限
- 篇幅：2800 字

**第 5 章：防御与缓解措施**
- 内容要点：数据清洗、鲁棒训练、后门移除（Fine-Pruning/蒸馏）、供应链安全
- 教学重点：多层防护策略
- 篇幅：2500 字

---

## 十、章节编写规范细则

### 每章标准结构

```markdown
# 第 X 章：章节标题

**章节目标**
- 目标 1（认知层面）
- 目标 2（理解层面）
- 目标 3（应用层面）

**主要内容设计**

## 1. 小节标题一

### 核心概念
- 定义
- 类比
- 关键特征

### 为什么重要
- 实际影响
- 威胁场景

### 学生可能的疑问
- 预测学生此时会有什么困惑
- 主动解答这些疑问

### 图示/表格
- 可视化展示

## 2. 小节标题二

[详细内容...]

## 3. 小节标题三

[详细内容...]

## 4. 小节标题四

[详细内容...]

**教学资源**
- 资源 1：描述
- 资源 2：描述
- 资源 3：描述

**课后思考题**
1. 理解性问题
2. 分析性问题
3. 设计性问题
```

**注意**：章节正文中不要出现"（占比 X%）"这类内部标注。

### 内容编写检查清单

每章完成后检查：
- [ ] 篇幅控制在 2500-3500 字
- [ ] 至少 1 个生活化类比
- [ ] 至少 2 个真实案例
- [ ] 避免复杂公式（或提供无公式版）
- [ ] 术语首次出现有中英对照
- [ ] 有可视化图示说明
- [ ] 3 个课后思考题
- [ ] 与对应实验有明确衔接

---

## 十一、待确认事项

✅ 实验设计规范 - 已确认
✅ 理论编写规范 - 已确认
✅ 课程结构 - 已确认
✅ 评估体系 - 已确认
✅ 各模块章节设计 - 已确认

**下一步**：退出 Plan Mode → 更新 CLAUDE.md → 开始内容编写

---

## 十二、内容编写进度跟踪

### 更新记录
- **最后更新时间**：2026-02-02
- **当前阶段**：✅ 已完成 - 所有内容编写完毕

### 模块一：AI 安全基础（5 章）

#### 理论章节进度

| 章节 | 状态 | 文件路径 | 完成日期 | 字数 | 质量检查 |
|------|------|---------|---------|------|---------|
| 第1章：AI 安全威胁全景图 | ✅ 已完成 | `modules/01_introduction/第1章_AI安全威胁全景图.md` | 2026-02-01 | ~3200 | ✅ |
| 第2章：大语言模型的工作原理 | ✅ 已完成 | `modules/01_introduction/第2章_大语言模型的工作原理.md` | 2026-02-01 | ~3000 | ✅ |
| 第3章：红队视角：像攻击者一样思考 | ✅ 已完成 | `modules/01_introduction/第3章_红队视角_像攻击者一样思考.md` | 2026-02-01 | ~3000 | ✅ |
| 第4章：AI 安全测试环境搭建 | ✅ 已完成 | `modules/01_introduction/第4章_AI安全测试环境搭建.md` | 2026-02-01 | ~2500 | ✅ |
| 第5章：AI 漏洞探测初体验 | ✅ 已完成 | `modules/01_introduction/第5章_AI漏洞探测初体验.md` | 2026-02-01 | ~2800 | ✅ |

**进度**：5/5 章节完成（100%）

#### 实验进度

| 实验 | 状态 | 文件路径 | 完成日期 | 质量检查 |
|------|------|---------|---------|---------|
| 实验 1.1：环境搭建与模型调用 | ✅ 已完成 | `modules/01_introduction/labs/lab1_1_environment_setup.ipynb` | 2026-02-01 | ✅ |
| 实验 1.2：AI 漏洞侦察 | ✅ 已完成 | `modules/01_introduction/labs/lab1_2_vulnerability_reconnaissance.ipynb` | 2026-02-01 | ✅ |

**进度**：2/2 实验完成（100%）

---

### 模块二：提示词攻击（5 章）

#### 理论章节进度

| 章节 | 状态 | 文件路径 | 完成日期 | 字数 | 质量检查 |
|------|------|---------|---------|------|---------|
| 第1章：提示词注入基础原理 | ✅ 已完成 | `modules/02_prompt_injection/第1章_提示词注入基础原理.md` | 2026-02-01 | ~3000 | ✅ |
| 第2章：越狱技术详解 | ✅ 已完成 | `modules/02_prompt_injection/第2章_越狱技术详解.md` | 2026-02-01 | ~3500 | ✅ |
| 第3章：系统提示提取技术 | ✅ 已完成 | `modules/02_prompt_injection/第3章_系统提示提取技术.md` | 2026-02-01 | ~3000 | ✅ |
| 第4章：内容过滤器绕过技术 | ✅ 已完成 | `modules/02_prompt_injection/第4章_内容过滤器绕过技术.md` | 2026-02-01 | ~3000 | ✅ |
| 第5章：防御机制与对策 | ✅ 已完成 | `modules/02_prompt_injection/第5章_防御机制与对策.md` | 2026-02-01 | ~3000 | ✅ |

**进度**：5/5 章节完成（100%）

#### 实验进度

| 实验 | 状态 | 文件路径 | 完成日期 | 质量检查 |
|------|------|---------|---------|---------|
| 实验 2.1：基础提示词注入 | ✅ 已完成 | `modules/02_prompt_injection/labs/lab2_1_prompt_injection.ipynb` | 2026-02-01 | ✅ |
| 实验 2.2：越狱技术体验 | ✅ 已完成 | `modules/02_prompt_injection/labs/lab2_2_jailbreaking.ipynb` | 2026-02-01 | ✅ |
| 实验 2.3：系统提示提取 | ✅ 已完成 | `modules/02_prompt_injection/labs/lab2_3_prompt_extraction.ipynb` | 2026-02-01 | ✅ |

**进度**：3/3 实验完成（100%）

---

### 模块三：对抗样本（5 章）

#### 理论章节进度

| 章节 | 状态 | 文件路径 | 完成日期 | 字数 | 质量检查 |
|------|------|---------|---------|------|---------|
| 第1章：对抗样本基础原理 | ✅ 已完成 | `modules/03_adversarial_examples/第1章_对抗样本基础原理.md` | 2026-02-01 | ~3000 | ✅ |
| 第2章：白盒攻击技术 | ✅ 已完成 | `modules/03_adversarial_examples/第2章_白盒攻击技术.md` | 2026-02-01 | ~3000 | ✅ |
| 第3章：黑盒攻击技术 | ✅ 已完成 | `modules/03_adversarial_examples/第3章_黑盒攻击技术.md` | 2026-02-01 | ~3000 | ✅ |
| 第4章：文本对抗攻击 | ✅ 已完成 | `modules/03_adversarial_examples/第4章_文本对抗攻击.md` | 2026-02-01 | ~2800 | ✅ |
| 第5章：防御技术入门 | ✅ 已完成 | `modules/03_adversarial_examples/第5章_防御技术入门.md` | 2026-02-01 | ~2800 | ✅ |

**进度**：5/5 章节完成（100%）

#### 实验进度

| 实验 | 状态 | 文件路径 | 完成日期 | 质量检查 |
|------|------|---------|---------|---------|
| 实验 3.1：FGSM 白盒攻击 | ✅ 已完成 | `modules/03_adversarial_examples/labs/lab3_1_fgsm_attack.ipynb` | 2026-02-01 | ✅ |
| 实验 3.2：PGD 迭代攻击 | ✅ 已完成 | `modules/03_adversarial_examples/labs/lab3_2_pgd_attack.ipynb` | 2026-02-01 | ✅ |
| 实验 3.3：黑盒迁移攻击 | ✅ 已完成 | `modules/03_adversarial_examples/labs/lab3_3_transfer_attack.ipynb` | 2026-02-01 | ✅ |
| 实验 3.4：文本对抗攻击 | ✅ 已完成 | `modules/03_adversarial_examples/labs/lab3_4_text_attack.ipynb` | 2026-02-01 | ✅ |

**进度**：4/4 实验完成（100%）

---

### 模块四：隐私窃取（4 章）

#### 理论章节进度

| 章节 | 状态 | 文件路径 | 完成日期 | 字数 | 质量检查 |
|------|------|---------|---------|------|---------|
| 第1章：AI 的记忆泄露问题 | ✅ 已完成 | `modules/04_privacy_attacks/第1章_AI的记忆泄露问题.md` | 2026-02-02 | ~3000 | ✅ |
| 第2章：成员推理攻击 | ✅ 已完成 | `modules/04_privacy_attacks/第2章_成员推理攻击.md` | 2026-02-02 | ~3000 | ✅ |
| 第3章：模型逆向攻击 | ✅ 已完成 | `modules/04_privacy_attacks/第3章_模型逆向攻击.md` | 2026-02-02 | ~2500 | ✅ |
| 第4章：差分隐私基础 | ✅ 已完成 | `modules/04_privacy_attacks/第4章_差分隐私基础.md` | 2026-02-02 | ~2800 | ✅ |

**进度**：4/4 章节完成（100%）

#### 实验进度

| 实验 | 状态 | 文件路径 | 完成日期 | 质量检查 |
|------|------|---------|---------|---------|
| 实验 4.1：训练数据提取 | ✅ 已完成 | `modules/04_privacy_attacks/labs/lab4_1_data_extraction.ipynb` | 2026-02-02 | ✅ |
| 实验 4.2：成员推理攻击 | ✅ 已完成 | `modules/04_privacy_attacks/labs/lab4_2_membership_inference.ipynb` | 2026-02-02 | ✅ |
| 实验 4.3：差分隐私对比 | ✅ 已完成 | `modules/04_privacy_attacks/labs/lab4_3_differential_privacy.ipynb` | 2026-02-02 | ✅ |

**进度**：3/3 实验完成（100%）

---

### 模块五：数据投毒（5 章）

#### 理论章节进度

| 章节 | 状态 | 文件路径 | 完成日期 | 字数 | 质量检查 |
|------|------|---------|---------|------|---------|
| 第1章：数据投毒攻击原理 | ✅ 已完成 | `modules/05_data_poisoning/第1章_数据投毒攻击原理.md` | 2026-02-02 | ~2800 | ✅ |
| 第2章：后门攻击技术 | ✅ 已完成 | `modules/05_data_poisoning/第2章_后门攻击技术.md` | 2026-02-02 | ~3000 | ✅ |
| 第3章：供应链攻击向量 | ✅ 已完成 | `modules/05_data_poisoning/第3章_供应链攻击向量.md` | 2026-02-02 | ~3000 | ✅ |
| 第4章：后门检测技术 | ✅ 已完成 | `modules/05_data_poisoning/第4章_后门检测技术.md` | 2026-02-02 | ~2800 | ✅ |
| 第5章：防御与缓解措施 | ✅ 已完成 | `modules/05_data_poisoning/第5章_防御与缓解措施.md` | 2026-02-02 | ~2500 | ✅ |

**进度**：5/5 章节完成（100%）

#### 实验进度

| 实验 | 状态 | 文件路径 | 完成日期 | 质量检查 |
|------|------|---------|---------|---------|
| 实验 5.1：标签翻转攻击 | ✅ 已完成 | `modules/05_data_poisoning/labs/lab5_1_label_flipping.ipynb` | 2026-02-02 | ✅ |
| 实验 5.2：BadNets 后门 | ✅ 已完成 | `modules/05_data_poisoning/labs/lab5_2_backdoor_attack.ipynb` | 2026-02-02 | ✅ |
| 实验 5.3：后门检测 | ✅ 已完成 | `modules/05_data_poisoning/labs/lab5_3_backdoor_detection.ipynb` | 2026-02-02 | ✅ |

**进度**：3/3 实验完成（100%）

---

### 总体进度统计

**理论章节**：24/24 完成（100%） ✅
**实验**：15/15 完成（100%） ✅
**整体进度**：39/39 完成（100%） ✅

---

### 课程完成总结

| 模块 | 理论章节 | 实验 | 状态 |
|------|---------|------|------|
| 模块一：AI 安全基础 | 5/5 | 2/2 | ✅ 完成 |
| 模块二：提示词攻击 | 5/5 | 3/3 | ✅ 完成 |
| 模块三：对抗样本 | 5/5 | 4/4 | ✅ 完成 |
| 模块四：隐私窃取 | 4/4 | 3/3 | ✅ 完成 |
| 模块五：数据投毒 | 5/5 | 3/3 | ✅ 完成 |
| **合计** | **24/24** | **15/15** | **✅ 全部完成** |

---

### 实验代码更新记录（2026-02-02）

所有实验代码已更新为使用腾讯 Cloud Studio T4 GPU 环境和中文优化模型。

**已更新的实验文件**：

| 实验 | 文件 | 使用的模型 | 更新内容 |
|------|------|-----------|---------|
| 实验 1.1 | `lab1_1_environment_setup.ipynb` | Qwen2-1.5B-Instruct | GPU环境检测 + Qwen2模型加载 |
| 实验 1.2 | `lab1_2_vulnerability_reconnaissance.ipynb` | Qwen2-1.5B-Instruct | 中文漏洞探测提示 |
| 实验 2.1 | `lab2_1_prompt_injection.ipynb` | Qwen2-1.5B-Instruct | apply_chat_template格式 |
| 实验 2.2 | `lab2_2_jailbreaking.ipynb` | Qwen2-1.5B-Instruct | 中文越狱技术演示 |
| 实验 2.3 | `lab2_3_prompt_extraction.ipynb` | Qwen2-1.5B-Instruct | 中文系统提示提取 |
| 实验 3.4 | `lab3_4_text_attack.ipynb` | uer/roberta-base-finetuned-jd-binary-chinese | 中文情感分析 + 中文同义词词典 |
| 实验 4.1 | `lab4_1_data_extraction.ipynb` | uer/gpt2-chinese-cluecorpussmall | 中文GPT-2 + 中文测试文本 |

**无需更新的实验**：
- 实验 3.1-3.3（图像对抗）：使用 torchvision.models.resnet18，无需修改
- 实验 4.2-4.3（成员推理/差分隐私）：使用自定义 PyTorch 网络，无需修改
- 实验 5.1-5.3（数据投毒）：使用自定义 PyTorch 网络，无需修改

**统一环境配置**：
- 平台：腾讯 Cloud Studio（T4 GPU，16GB 显存）
- 核心依赖：transformers 4.40.0, torch 2.1.0, numpy, matplotlib, accelerate

---

### 理论章节重写计划（2026-02-02 启动）

#### 重写原因
原有理论章节存在以下问题：
1. 字数不足（约2500-3200字），需扩展到 4000-5000 字
2. 编写风格过于简略，跳跃性强
3. 缺乏学生视角的引导和困惑解答
4. 正文中包含"（占比 X%）"等内部标注
5. 没有做到循序渐进的讲解

#### 重写核心要求

**一、篇幅与结构要求**

1. **字数标准**：每章 3500-5500 字
   - 不足 3500 字视为不合格
   - 超过 6000 字需要精简或拆分

2. **章节结构**（必须完整包含）：
   - 本章导读（3-5 句话）
   - 章节目标（3-5 个，描述学生能做什么）
   - 3-5 个递进式小节
   - 本章小结
   - 教学资源（图表、实验、延伸阅读）
   - 课后思考题（3 个：理解性、分析性、应用性）

3. **小节设计**：
   - 每个小节 800-1500 字
   - 小节间必须有过渡衔接
   - 小节标题体现递进关系

**二、写作风格要求**

1. **去除 AI 生成痕迹**：
   - 禁止使用 emoji 符号
   - 避免"小技巧"、"推荐做法"等标签式语言
   - 不使用"先花 X 分钟"、"快速过一遍"等口语化表达
   - 避免"把感觉建立起来"、"读不懂/读不下去"等网络用语

2. **符合标准教材规范**：
   - 使用规范的学术语言，但保持通俗易懂
   - 采用教育学中的专业术语（如"情境引入"、"概念建构"）
   - 保持客观、权威的叙述语气
   - 参考经典教材的段落组织方式

3. **友好引导型表达**：
   - 使用"我们"而非"你必须"
   - 用"需要"、"建议"替代"一定要"、"必须"
   - 采用引导式提问而非命令式陈述
   - 示例："在理解这个概念之前，我们先通过一个例子建立直观感受。"

**三、内容质量标准**

1. **难度控制**：
   - 严格控制在初级水平（⭐-⭐⭐）
   - 避免复杂数学推导和公式堆砌
   - 技术细节只保留必要部分
   - 优先使用图示和文字说明

2. **学生视角**：
   - 每个新概念前说明"为什么需要学习它"
   - 主动预判并解答学生可能的困惑
   - 补充必要的背景知识和前置概念
   - 确保知识链条完整，无跳跃

3. **教学方法**：
   - 每章至少 1 个生活化类比（重点章节 2 个以上）
   - 每章至少 1 个真实案例（重点章节 2 个以上）
   - 案例格式：背景 → 攻击过程 → 影响 → 启示
   - 关键逻辑处标注需要配图

4. **术语与公式处理**：
   - 术语首次出现：**中文术语（English Term）** + 通俗解释
   - 全文术语翻译保持一致
   - 术语较多时在章末附术语对照表
   - 公式能不用就不用，必须用时先给直觉解释

**四、内容连贯性要求**

1. **段落组织**：
   - 单个段落不超过 10 行
   - 长句适当拆分
   - 每段围绕一个中心思想

2. **小节过渡**：
   - 每个小节末尾用 1-2 句话承接下一小节
   - 示例："了解了 X 的基本原理后，接下来我们将探讨它在实际系统中可能造成的影响。"

3. **逻辑递进**：
   - 遵循"情境引入 → 建立直觉 → 讲解原理 → 解答困惑 → 案例总结"的节奏
   - 先整体后局部，先直觉后原理，先简单后复杂

**五、质量检查标准**

重写完成后必须通过以下检查：

1. **结构完整性**（必须全部满足）：
   - [ ] 包含本章导读
   - [ ] 明确列出 3-5 个章节目标
   - [ ] 包含 3-5 个递进小节
   - [ ] 包含本章小结
   - [ ] 包含教学资源和课后思考题

2. **篇幅与难度**（必须全部满足）：
   - [ ] 字数在 3500-5500 字范围内
   - [ ] 难度控制在 ⭐-⭐⭐ 级别
   - [ ] 无复杂数学推导

3. **教学要素**（必须全部满足）：
   - [ ] 至少 1 个生活化类比
   - [ ] 至少 1 个真实案例（含背景、过程、影响、启示）
   - [ ] 关键逻辑处标注配图需求

4. **技术规范**（必须全部满足）：
   - [ ] 术语首次出现有中英对照
   - [ ] 全文术语使用一致
   - [ ] 公式处理符合规范（先直觉后公式）
   - [ ] 提及的工具/库在允许列表内

5. **写作风格**（必须全部满足）：
   - [ ] 无 emoji 符号
   - [ ] 无口语化、网络化表达
   - [ ] 无"小技巧"、"推荐做法"等标签
   - [ ] 语气友好但专业
   - [ ] 小节间有自然过渡

6. **可读性**（必须全部满足）：
   - [ ] 单段不超过 10 行
   - [ ] 知识链条完整无跳跃
   - [ ] 每个新概念前说明学习必要性
   - [ ] 主动解答学生可能的困惑

**六、验收流程**

1. **自查阶段**：按照上述检查标准逐项核对
2. **交叉审阅**：由其他编写者审阅，检查可读性和连贯性
3. **学生测试**：选取 2-3 名目标学生试读，收集反馈
4. **最终定稿**：根据反馈修改后定稿

**七、常见问题与解决方案**

| 问题 | 解决方案 |
|------|---------|
| 字数不足 | 增加案例分析、补充背景知识、扩展困惑解答 |
| 内容跳跃 | 补充过渡段落、增加铺垫性说明、细化知识点 |
| 过于学术 | 增加类比、使用通俗语言、减少专业术语 |
| 缺乏引导 | 增加"为什么学"、"学了能做什么"的说明 |
| 案例不足 | 补充真实案例、增加小实验、添加应用场景 |

---

## 十三、循序渐进编写规范（写作 SOP）

本章将「二、理论部分规范」转化为可执行的写作流程，确保每章内容达到以下标准：初级难度（⭐-⭐⭐）、4000-5000 字篇幅、学生视角、类比与案例结合、术语与公式规范处理，同时符合标准教材的专业性与友好型教程的可读性。

**质量标准**：
- 难度控制在初级水平，避免复杂数学推导（参考 2.1、2.5）
- 篇幅 4000-5000 字，讲解连贯，知识链条完整（参考 2.1、2.3）
- 结构完整：章节目标 + 4-5 个小节 + 教学资源 + 课后思考题（参考 2.2）
- 每章至少包含 1 个真实案例，重点章节建议 2 个以上（参考 2.3）
- 术语首次出现提供中英对照，全文保持一致（参考 2.4）

### 1. 写作准备：明确教学目标与内容边界（对应 2.1）

开始写作前，需要明确本章的教学定位和内容范围。

**准备工作**：
- 用一句话概括本章主线（例如："解释 X 为什么会带来 Y 风险，以及相应的应对方法"）
- 列出 3-5 个可验收的章节目标（描述学生学完后能做什么，而非仅仅"了解"什么）
- 预判学生在本章最容易产生困惑的 3 个知识点，准备在正文中主动解答
- 准备教学素材：1 个生活化类比 + 1 个真实案例 + 1 个图示方案

**准备模板**：
```markdown
本章主线：……
章节目标（3-5 个）：……
学生易困惑点（3 个）：……
教学素材：类比 / 案例 / 图示
```

### 2. 构建大纲：建立清晰的知识递进结构（对应 2.2）

大纲是教学路径的设计图，需要体现知识的递进关系。建议先确定 4-5 个小节的逻辑顺序，再填充具体内容。

**章节结构模板**：
```markdown
# 第 X 章：[标题]

本章导读：用 3-5 句话说明本章要解决的问题、学习后的收获，以及学习本章的必要性。

## 章节目标
- 目标1（认知层面）
- 目标2（理解层面）
- 目标3（应用层面）

## 1. [小节1：概念引入与问题场景]
## 2. [小节2：核心原理讲解]
## 3. [小节3：技术细节与实现]
## 4. [小节4：案例分析与应用]
## 5. [本章小结]

## 教学资源
- 图表与示意图：
- 配套实验：
- 延伸阅读（可选）：

## 课后思考题
1. 理解性问题
2. 分析性问题
3. 应用性问题
```

注意：内容分配可参考第二章建议的比例（概念引入、原理讲解、案例分析、应用场景），但这些比例标注不应出现在正文中。

### 3. 小节写作：采用渐进式讲解方法（对应 2.3）

每个小节按照统一的节奏展开：引起兴趣 → 建立理解 → 巩固记忆 → 应用迁移。

**小节展开方法**：

**第一步：情境引入**
用一个具体问题或场景开场，说明学习这部分内容的必要性。
- 示例："如果一个 AI 模型在训练时记住了敏感数据，它会在什么情况下泄露这些信息？"

**第二步：建立直觉**
使用生活化类比帮助学生建立初步理解。
- 示例："这就像一个学生在考试时，不小心把背过的答案原文写了出来。"

**第三步：讲解原理**
先用通俗语言解释核心概念，再引入专业术语（中英对照）。
- 写作顺序：一句话定义 → 具体例子 → 边界条件说明
- 术语格式：**中文术语（English Term）**（参考 2.4）

**第四步：解答困惑**
预判学生可能产生的疑问并主动解答。
- 示例："有同学可能会问：为什么模型会记住训练数据？这是因为……"

**第五步：案例与总结**
通过真实案例或小实验帮助学生理解应用场景，并用要点总结本小节内容。
- 在小节末尾添加过渡句，自然引导到下一小节

重要提示：每引入一个新概念时，先说明"为什么需要了解它"（参考 2.3），这能有效降低学生的学习阻力。

### 4. 术语与公式处理规范（对应 2.4、2.5）

**术语处理原则**：
- 首次出现时提供**中文术语（English Term）**格式，并用通俗语言解释其含义
- 全文保持术语翻译的一致性，避免在同一章节中使用不同译法
- 术语较多时，在章末附上术语对照表（包含：中文、英文、简要解释）

**公式处理原则**：
- 优先使用图示或文字说明，尽量避免使用公式（参考 2.5）
- 必须使用公式时，先提供直觉解释，再给出公式，并保留无公式版本的文字说明
- 复杂公式需要拆解为 2-3 个步骤，每步配以文字说明

### 5. 案例与教学资源设计（对应 2.3）

案例用于建立记忆点，教学资源用于支持实践操作。

**真实案例格式**：
```markdown
**案例：事件名称（年份）**

背景：简要介绍事件发生的背景和环境

攻击过程：描述攻击者使用的具体手法

影响与后果：说明事件造成的实际影响

启示：总结从该案例中可以学到的经验
```

**教学资源对齐**：
- 在章节或小节末明确标注对应的实验编号（例如："本章内容对应实验 2.1"）
- 图示设计应服务于直觉理解，避免使用过于学术化的表达方式

### 6. 过渡与衔接：保持内容连贯性

良好的过渡能够帮助学生理解当前位置、下一步方向以及学习路径的逻辑。

**小节间过渡**：
在每个小节末尾用 1-2 句话承接下一小节内容。
- 示例："了解了 X 的基本原理后，接下来我们将探讨它在实际系统中可能造成的影响。"
- 示例："这里需要记住一个关键点：Y 现象并非模型缺陷，而是其工作机制的必然结果。下面我们将详细分析其中的原因。"

**段落内衔接**：
使用引导性语言而非命令式语气，采用"我们"而非"你必须"。
- 示例："在理解这个概念之前，我们先通过一个例子建立直观感受。"
- 示例："如果此时感到有些复杂，可以先记住这个核心结论：……"

写作建议：单个段落不超过 10 行；遇到长句时适当拆分，可显著提升阅读体验。

---

## 十四、重写进度跟踪


| 模块 | 章节 | 原字数 | 目标字数 | 状态 | 完成日期 |
|------|------|--------|----------|------|----------|
| 模块一 | 第1章：AI 安全威胁全景图 | ~3200 | 4000-5000 | ⏳ 待重写 | - |
| 模块一 | 第2章：大语言模型的工作原理 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块一 | 第3章：红队视角 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块一 | 第4章：AI 安全测试环境搭建 | ~2500 | 4000-5000 | ⏳ 待重写 | - |
| 模块一 | 第5章：AI 漏洞探测初体验 | ~2800 | 4000-5000 | ⏳ 待重写 | - |
| 模块二 | 第1章：提示词注入基础原理 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块二 | 第2章：越狱技术详解 | ~3500 | 4000-5000 | ⏳ 待重写 | - |
| 模块二 | 第3章：系统提示提取技术 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块二 | 第4章：内容过滤器绕过技术 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块二 | 第5章：防御机制与对策 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块三 | 第1章：对抗样本基础原理 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块三 | 第2章：白盒攻击技术 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块三 | 第3章：黑盒攻击技术 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块三 | 第4章：文本对抗攻击 | ~2800 | 4000-5000 | ⏳ 待重写 | - |
| 模块三 | 第5章：防御技术入门 | ~2800 | 4000-5000 | ⏳ 待重写 | - |
| 模块四 | 第1章：AI 的记忆泄露问题 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块四 | 第2章：成员推理攻击 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块四 | 第3章：模型逆向攻击 | ~2500 | 4000-5000 | ⏳ 待重写 | - |
| 模块四 | 第4章：差分隐私基础 | ~2800 | 4000-5000 | ⏳ 待重写 | - |
| 模块五 | 第1章：数据投毒攻击原理 | ~2800 | 4000-5000 | ⏳ 待重写 | - |
| 模块五 | 第2章：后门攻击技术 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块五 | 第3章：供应链攻击向量 | ~3000 | 4000-5000 | ⏳ 待重写 | - |
| 模块五 | 第4章：后门检测技术 | ~2800 | 4000-5000 | ⏳ 待重写 | - |
| 模块五 | 第5章：防御与缓解措施 | ~2500 | 4000-5000 | ⏳ 待重写 | - |

**总进度**：0/24 章节重写完成（0%）

---

### 后续工作建议

**Phase 3: 质量检查**（待执行）
- [x] 实验代码模型更新（已完成 2026-02-02）
- [x] 理论章节重写要求确定（已完成 2026-02-02）
- [ ] 理论章节重写（进行中）
- [ ] 检查术语一致性
- [ ] 在 Cloud Studio 验证代码可运行性
- [ ] 测试填空难度
- [ ] 审查注释完整性

**教师资源包**（待开发）
- [ ] 每章 PPT（20-30 页，含动画）
- [ ] 实验答案详解（完整代码 + 注释）
- [ ] 教学视频脚本（15 分钟/节）
- [ ] 在线测验题库（10 选择题 + 2 简答题/章）

**学生资源包**（待开发）
- [ ] 实验指导书（PDF）
- [ ] 常见问题 FAQ
- [ ] 术语中英对照表

